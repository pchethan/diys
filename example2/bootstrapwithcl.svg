<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1551px" preserveAspectRatio="none" style="width:1025px;height:1551px;" version="1.1" viewBox="0 0 1025 1551" width="1025px" zoomAndPan="magnify"><defs/><g><ellipse cx="127.5" cy="48.6982" fill="#000000" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="93" x="81" y="78.6982"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="73" x="91" y="99.8369">".class files"</text><polygon fill="#FEFECE" points="89,154.0659,166,154.0659,178,166.0659,166,178.0659,89,178.0659,77,166.0659,89,154.0659" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacing" textLength="77" x="89" y="169.874">"jar/war/ear"?</text><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacing" textLength="57" x="20" y="163.4717">jar deploy</text><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacing" textLength="63" x="178" y="163.4717">war deploy</text><line style="stroke:#000000;stroke-width:2.0;" x1="15" x2="15" y1="12.7451" y2="1539.0581"/><rect fill="#FEFECE" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="88" x="323" y="198.0659"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="68" x="333" y="219.2046">RE Location</text><ellipse cx="367" cy="263.0347" fill="#FFFFFF" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="367" cy="263.0347" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><ellipse cx="427.5" cy="294.0347" fill="#000000" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="300" x2="489.5" y1="358.2383" y2="358.2383"/><rect fill="#FEFECE" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="96" x="252" y="378.2383"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="76" x="262" y="399.377">java -jar ...jar</text><rect fill="#FEFECE" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="227" x="376" y="378.2383"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="207" x="386" y="399.377">java -classpath ...jar:..jar mainClass</text><line style="stroke:#A80036;stroke-width:1.5;" x1="300" x2="489.5" y1="432.207" y2="432.207"/><rect fill="#FEFECE" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="118" x="368.5" y="473.606"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="98" x="378.5" y="494.7446">extracted folder</text><rect fill="#FEFECE" height="47.9375" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="122" x="366.5" y="548.9736"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="102" x="376.5" y="570.1123">boot classloader</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="97" x="376.5" y="584.0811">with cp=JRE jars</text><rect fill="#FEFECE" height="47.9375" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="140" x="357.5" y="638.3101"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="93" x="367.5" y="659.4487">ext classloader</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="120" x="367.5" y="673.4175">with cp=JRE ext jars</text><rect fill="#FEFECE" height="47.9375" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="118" x="368.5" y="727.6465"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="98" x="378.5" y="748.7852">App classloader</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="96" x="378.5" y="762.7539">with cp=App jar</text><rect fill="#FEFECE" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="83" x="386" y="816.9829"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="63" x="396" y="838.1216">main class</text><path d="M502.5,890.6079 L502.5,906.7407 L482.5,910.7407 L502.5,914.7407 L502.5,930.8735 A0,0 0 0 0 502.5,930.8735 L743.5,930.8735 A0,0 0 0 0 743.5,930.8735 L743.5,900.6079 L733.5,890.6079 L502.5,890.6079 A0,0 0 0 0 502.5,890.6079 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><path d="M733.5,890.6079 L733.5,900.6079 L743.5,900.6079 L733.5,890.6079 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="220" x="508.5" y="907.6748">apps can further load classloaders</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="143" x="508.5" y="922.8076">example: Spring Boot;</text><rect fill="#FEFECE" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="110" x="372.5" y="893.7563"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="90" x="382.5" y="914.895">MainClass.main</text><rect fill="#FFFFFF" height="163.438" style="stroke:#000000;stroke-width:2.0;" width="136" x="359.5" y="940.8735"/><path d="M440.5,940.8735 L440.5,950.1704 L430.5,960.1704 L359.5,960.1704 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="71" x="362.5" y="954.8687">Container</text><rect fill="#FEFECE" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="110" x="372.5" y="970.1704"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="90" x="382.5" y="991.3091">MainClass.main</text><rect fill="#FEFECE" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="116" x="369.5" y="1058.3428"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="96" x="379.5" y="1079.4814">URL classloader</text><ellipse cx="427.5" cy="1135.3115" fill="#FFFFFF" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="427.5" cy="1135.3115" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><path d="M458.5,1513.9253 L458.5,1522.4917 L438.5,1526.4917 L458.5,1530.4917 L458.5,1539.0581 A0,0 0 0 0 458.5,1539.0581 L719.5,1539.0581 A0,0 0 0 0 719.5,1539.0581 L719.5,1523.9253 L709.5,1513.9253 L458.5,1513.9253 A0,0 0 0 0 458.5,1513.9253 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><path d="M709.5,1513.9253 L709.5,1523.9253 L719.5,1523.9253 L709.5,1513.9253 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="240" x="464.5" y="1530.9922">listeners may create a spring context</text><line style="stroke:#000000;stroke-width:2.0;" x1="246" x2="246" y1="12.7451" y2="1539.0581"/><rect fill="#FEFECE" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="109" x="882.5" y="198.0659"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="89" x="892.5" y="219.2046">webapp folder</text><ellipse cx="937" cy="263.0347" fill="#FFFFFF" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="937" cy="263.0347" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><ellipse cx="876.5" cy="1166.3115" fill="#000000" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="116" x="818.5" y="1217.7104"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="96" x="828.5" y="1238.8491">appname folder</text><rect fill="#FEFECE" height="61.9063" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="244" x="754.5" y="1271.6792"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="224" x="764.5" y="1292.8179">Container loads WebApp classloader</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="212" x="764.5" y="1306.7866">(child CL) with WEB-INF/classes/ dir</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="149" x="764.5" y="1320.7554">and WEB-INF/lib/*.jar jars</text><rect fill="#FEFECE" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="226" x="763.5" y="1353.5854"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="206" x="773.5" y="1374.7241">Container loads Servlets with WCL</text><rect fill="#FEFECE" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="159" x="797" y="1407.5542"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="139" x="807" y="1428.6929">Container inits Servlets</text><rect fill="#FEFECE" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="228" x="762.5" y="1461.5229"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="208" x="772.5" y="1482.6616">Container loads listeners with WCL</text><ellipse cx="876.5" cy="1526.4917" fill="#FFFFFF" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="876.5" cy="1526.4917" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:2.0;" x1="748.5" x2="748.5" y1="12.7451" y2="1539.0581"/><line style="stroke:#000000;stroke-width:2.0;" x1="1005.5" x2="1005.5" y1="12.7451" y2="1539.0581"/><line style="stroke:#A80036;stroke-width:1.5;" x1="127.5" x2="127.5" y1="58.6982" y2="78.6982"/><polygon fill="#A80036" points="123.5,68.6982,127.5,78.6982,131.5,68.6982,127.5,72.6982" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="127.5" x2="127.5" y1="112.667" y2="154.0659"/><polygon fill="#A80036" points="123.5,144.0659,127.5,154.0659,131.5,144.0659,127.5,148.0659" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacing" textLength="48" x="131.5" y="133.9717">package</text><line style="stroke:#A80036;stroke-width:1.5;" x1="367" x2="367" y1="232.0347" y2="252.0347"/><polygon fill="#A80036" points="363,242.0347,367,252.0347,371,242.0347,367,246.0347" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="300" x2="300" y1="359.7383" y2="378.2383"/><polygon fill="#A80036" points="296,368.2383,300,378.2383,304,368.2383,300,372.2383" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="489.5" x2="489.5" y1="359.7383" y2="378.2383"/><polygon fill="#A80036" points="485.5,368.2383,489.5,378.2383,493.5,368.2383,489.5,372.2383" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="300" x2="300" y1="412.207" y2="432.207"/><polygon fill="#A80036" points="296,422.207,300,432.207,304,422.207,300,426.207" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="489.5" x2="489.5" y1="412.207" y2="432.207"/><polygon fill="#A80036" points="485.5,422.207,489.5,432.207,493.5,422.207,489.5,426.207" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="427.5" x2="427.5" y1="304.0347" y2="358.2383"/><polygon fill="#A80036" points="423.5,348.2383,427.5,358.2383,431.5,348.2383,427.5,352.2383" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacing" textLength="57" x="431.5" y="325.3394">service or</text><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacing" textLength="67" x="431.5" y="338.144">human runs</text><line style="stroke:#A80036;stroke-width:1.5;" x1="427.5" x2="427.5" y1="433.707" y2="473.606"/><polygon fill="#A80036" points="423.5,463.606,427.5,473.606,431.5,463.606,427.5,467.606" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacing" textLength="85" x="431.5" y="453.5117">JVM extracts to</text><line style="stroke:#A80036;stroke-width:1.5;" x1="427.5" x2="427.5" y1="507.5747" y2="548.9736"/><polygon fill="#A80036" points="423.5,538.9736,427.5,548.9736,431.5,538.9736,427.5,542.9736" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacing" textLength="54" x="431.5" y="528.8794">JVM loads</text><line style="stroke:#A80036;stroke-width:1.5;" x1="427.5" x2="427.5" y1="596.9111" y2="638.3101"/><polygon fill="#A80036" points="423.5,628.3101,427.5,638.3101,431.5,628.3101,427.5,632.3101" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacing" textLength="102" x="431.5" y="618.2158">JVM loads child CL</text><line style="stroke:#A80036;stroke-width:1.5;" x1="427.5" x2="427.5" y1="686.2476" y2="727.6465"/><polygon fill="#A80036" points="423.5,717.6465,427.5,727.6465,431.5,717.6465,427.5,721.6465" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacing" textLength="102" x="431.5" y="707.5522">JVM loads child CL</text><line style="stroke:#A80036;stroke-width:1.5;" x1="427.5" x2="427.5" y1="775.584" y2="816.9829"/><polygon fill="#A80036" points="423.5,806.9829,427.5,816.9829,431.5,806.9829,427.5,810.9829" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacing" textLength="161" x="431.5" y="796.8887">JVM calls AppCL.loadClass of</text><line style="stroke:#A80036;stroke-width:1.5;" x1="427.5" x2="427.5" y1="850.9517" y2="893.7563"/><polygon fill="#A80036" points="423.5,883.7563,427.5,893.7563,431.5,883.7563,427.5,887.7563" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacing" textLength="49" x="431.5" y="872.2563">JVM calls</text><line style="stroke:#A80036;stroke-width:1.5;" x1="427.5" x2="427.5" y1="1004.1392" y2="1058.3428"/><polygon fill="#A80036" points="423.5,1048.3428,427.5,1058.3428,431.5,1048.3428,427.5,1052.3428" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacing" textLength="54" x="431.5" y="1025.4438">JVM loads</text><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacing" textLength="44" x="431.5" y="1038.2485">child CL</text><line style="stroke:#A80036;stroke-width:1.5;" x1="427.5" x2="427.5" y1="1092.3115" y2="1124.3115"/><polygon fill="#A80036" points="423.5,1114.3115,427.5,1124.3115,431.5,1114.3115,427.5,1118.3115" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="937" x2="937" y1="232.0347" y2="252.0347"/><polygon fill="#A80036" points="933,242.0347,937,252.0347,941,242.0347,937,246.0347" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="876.5" x2="876.5" y1="1176.3115" y2="1217.7104"/><polygon fill="#A80036" points="872.5,1207.7104,876.5,1217.7104,880.5,1207.7104,876.5,1211.7104" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacing" textLength="120" x="880.5" y="1197.6162">Container extracts to</text><line style="stroke:#A80036;stroke-width:1.5;" x1="876.5" x2="876.5" y1="1251.6792" y2="1271.6792"/><polygon fill="#A80036" points="872.5,1261.6792,876.5,1271.6792,880.5,1261.6792,876.5,1265.6792" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="876.5" x2="876.5" y1="1333.5854" y2="1353.5854"/><polygon fill="#A80036" points="872.5,1343.5854,876.5,1353.5854,880.5,1343.5854,876.5,1347.5854" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="876.5" x2="876.5" y1="1387.5542" y2="1407.5542"/><polygon fill="#A80036" points="872.5,1397.5542,876.5,1407.5542,880.5,1397.5542,876.5,1401.5542" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="876.5" x2="876.5" y1="1441.5229" y2="1461.5229"/><polygon fill="#A80036" points="872.5,1451.5229,876.5,1461.5229,880.5,1451.5229,876.5,1455.5229" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="876.5" x2="876.5" y1="1495.4917" y2="1515.4917"/><polygon fill="#A80036" points="872.5,1505.4917,876.5,1515.4917,880.5,1505.4917,876.5,1509.4917" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="77" x2="65" y1="166.0659" y2="166.0659"/><line style="stroke:#A80036;stroke-width:1.5;" x1="65" x2="65" y1="166.0659" y2="184.0659"/><line style="stroke:#A80036;stroke-width:1.5;" x1="65" x2="367" y1="184.0659" y2="184.0659"/><line style="stroke:#A80036;stroke-width:1.5;" x1="367" x2="367" y1="184.0659" y2="198.0659"/><polygon fill="#A80036" points="363,188.0659,367,198.0659,371,188.0659,367,192.0659" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="178" x2="937" y1="166.0659" y2="166.0659"/><line style="stroke:#A80036;stroke-width:1.5;" x1="937" x2="937" y1="166.0659" y2="198.0659"/><polygon fill="#A80036" points="933,188.0659,937,198.0659,941,188.0659,937,192.0659" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="18" lengthAdjust="spacing" textLength="87" x="87" y="29.4531">Dev/Build</text><text fill="#000000" font-family="Arial" font-size="18" lengthAdjust="spacing" textLength="206" x="394.25" y="29.4531">Runtime Environment</text><text fill="#000000" font-family="Arial" font-size="18" lengthAdjust="spacing" textLength="218" x="768" y="29.4531">Container Environment</text><!--MD5=[83de9c4282181f8615689e591c2eebf4]
@startuml
skinparam style strictuml
skinparam defaultFontName Arial

|Dev/Build|
start
:".class files";
-> package;
if ("jar/war/ear"?) equals (jar) then
->jar deploy;
|Runtime Environment|
:RE Location;
stop
else
->war deploy;
|Container Environment|
:webapp folder;
stop
endif


|Runtime Environment|
start
-> service or 
human runs;
split
:java -jar ...jar;
split again
:java -classpath ...jar:..jar mainClass;
end split
->JVM extracts to;
:extracted folder;
->JVM loads;
:boot classloader
with cp=JRE jars;
->JVM loads child CL;
:ext classloader 
with cp=JRE ext jars;
->JVM loads child CL;
:App classloader
with cp=App jar;
->JVM calls AppCL.loadClass of;
:main class;
->JVM calls;
:MainClass.main;
note right
apps can further load classloaders
example: Spring Boot;
end note
-[hidden]->

partition Container {
:MainClass.main;
-> JVM loads 
child CL;
:URL classloader;
}
stop

|Container Environment|
start
->Container extracts to;
:appname folder;
:Container loads WebApp classloader 
(child CL) with WEB-INF/classes/ dir 
and WEB-INF/lib/*.jar jars;
:Container loads Servlets with WCL;
:Container inits Servlets;
:Container loads listeners with WCL;
stop

|Runtime Environment|
note right
listeners may create a spring context
end note
@enduml

PlantUML version 1.2021.2beta9(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>